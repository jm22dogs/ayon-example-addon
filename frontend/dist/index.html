<html>
  <head>
    <meta charset="utf-8">
    <title>Test addon</title>
    <style>

html, body {
  padding: 20px;
  background: transparent;
  color: white;
  font-family: sans-serif;
}

#ctxwnd {
  width: 800px;
  max-height: 600px;
  background: rgba(0, 0, 0, 0.5);
  overflow: scroll;
}

    </style>
  </head>
  <body>
    <h1>Test addon</h1>

    <p>
      I am a test addon written in vanilla javascript
      invoked in project <span id='project-name'></span>.
    </p>


    <p>
      Select something in the sidebar (which is not a part of the addon)
      <ul id='selection'>
      </ul>
    </p>

  </body>

  <script>

    document.addEventListener('DOMContentLoaded', () => {

      window.onmessage = (e) => {
        const context = e.data.context
        document.querySelector('#project-name').innerHTML = context.projectName
        //document.querySelector('#ctxwnd').innerHTML = JSON.stringify(context, null, 2);

        let selectionList = ""
        for (const folderId of context.focusedFolders){
          selectionList += `<li>${folderId}</li>\n`
        }
        document.querySelector('#selection').innerHTML = selectionList

      }

    })

  </script>

</html>

